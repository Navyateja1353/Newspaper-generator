<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Believe It - WhatsApp Newspaper AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Roboto', sans-serif; 
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            min-height: 100vh; 
            padding: 20px;
        }
        .newspaper-container { 
            max-width: 1200px; 
            margin: 0 auto; 
            background: white; 
            border-radius: 20px; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header { 
            background: linear-gradient(45deg, #dc2626, #ef4444); 
            color: white; 
            padding: 30px; 
            text-align: center;
        }
        .header h1 { 
            font-family: 'Playfair Display', serif; 
            font-size: 3rem; 
            margin-bottom: 10px;
        }
        .ai-status { 
            background: rgba(255,255,255,0.2); 
            padding: 15px 30px; 
            border-radius: 50px; 
            display: inline-block;
            font-weight: 500;
        }
        .dual-panel { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; padding: 40px; }
        @media (max-width: 768px) { .dual-panel { grid-template-columns: 1fr; } }
        
        .whatsapp-feed { 
            background: #f8fafc; 
            border-radius: 15px; 
            padding: 25px; 
            height: 600px; 
            overflow-y: auto;
        }
        .news-image { 
            width: 100%; 
            height: 200px; 
            object-fit: cover; 
            border-radius: 10px; 
            margin-bottom: 10px;
        }
        .channel-item { 
            background: white; 
            border-radius: 12px; 
            padding: 20px; 
            margin-bottom: 20px; 
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        .channel-item:hover { transform: translateY(-5px); }
        .channel-name { font-weight: 600; color: #1e40af; margin-bottom: 10px; }
        .news-text { color: #374151; line-height: 1.6; }
        
        .ai-newspaper { 
            background: #fefefe; 
            border: 3px solid #f3f4f6; 
            border-radius: 15px; 
            padding: 30px; 
            height: 600px; 
            overflow-y: auto;
        }
        .newspaper-page { 
            break-inside: avoid; 
            break-after: page; 
            margin-bottom: 40px;
            page-break-after: always;
        }
        .top-story { 
            background: linear-gradient(135deg, #fbbf24, #f59e0b); 
            color: white; 
            padding: 30px; 
            border-radius: 15px; 
            margin-bottom: 30px;
            text-align: center;
        }
        .top-story img { 
            width: 100%; 
            height: 250px; 
            object-fit: cover; 
            border-radius: 10px; 
            margin-bottom: 20px;
        }
        .top-story h2 { 
            font-family: 'Playfair Display', serif; 
            font-size: 2.2rem; 
            margin-bottom: 15px;
        }
        .columns-4 { 
            column-count: 4; 
            column-gap: 25px; 
            column-fill: auto;
        }
        .story-card { 
            background: white; 
            padding: 20px; 
            margin-bottom: 20px; 
            border-radius: 10px; 
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            break-inside: avoid;
        }
        .generate-btn { 
            background: linear-gradient(45deg, #ec4899, #db2777); 
            border: none; 
            color: white; 
            padding: 15px 40px; 
            font-size: 1.2rem; 
            font-weight: 600; 
            border-radius: 50px; 
            cursor: pointer;
            transition: transform 0.3s;
        }
        .generate-btn:hover { transform: scale(1.05); }
        .loading { 
            display: inline-block; 
            width: 25px; 
            height: 25px; 
            border: 3px solid #f3f3f3; 
            border-top: 3px solid #dc2626; 
            border-radius: 50%; 
            animation: spin 1s linear infinite; 
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="newspaper-container">
        <div class="header">
            <h1>üì∞ BELIEVE IT NEWSPAPER</h1>
            <p class="ai-status" id="status">ü§ñ AI Analyzing WhatsApp Channels <span class="loading"></span></p>
        </div>

        <div class="dual-panel">
            <!-- LEFT: WhatsApp Channel Feed -->
            <div>
                <h3 style="color: #1e40af; margin-bottom: 20px;">üì± WhatsApp Channels (Live Feed)</h3>
                <div class="whatsapp-feed" id="whatsappFeed">
                    <div style="text-align: center; padding: 50px; color: #6b7280;">
                        üîÑ AI scanning WhatsApp channels for news images & text...
                    </div>
                </div>
            </div>

            <!-- RIGHT: AI Generated Newspaper -->
            <div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="color: #dc2626;">üóûÔ∏è AI Newspaper (Auto-Layout)</h3>
                    <button class="generate-btn" id="downloadPDF">
                        üìÑ Download Newspaper
                    </button>
                </div>
                <div class="ai-newspaper columns-4" id="aiNewspaper">
                    <div style="text-align: center; padding: 100px 20px; color: #9ca3af;">
                        ü§ñ AI will auto-arrange stories here in perfect layout<br>
                        <small>Top stories ‚Üí Full page | Regular ‚Üí Columns | Images auto-sized</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        // SIMULATED WhatsApp Channel Data (Real images + text from channels)
        const whatsappChannelsData = [
            { channel: "BBC News India", image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=300&fit=crop", text: "PM Modi launches ‚Çπ10 lakh crore infrastructure push", type: "breaking", size: "full" },
            { channel: "NDTV", image: "https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=400&h=250&fit=crop", text: "Bengaluru floods: ORR completely waterlogged", type: "urgent", size: "large" },
            { channel: "Economic Times", image: "https://images.unsplash.com/photo-1554224155-6726b3ff858f?w=300&h=200&fit=crop", text: "Sensex crashes 1500 points amid global selloff", type: "market", size: "medium" },
            { channel: "ANI News", image: "https://images.unsplash.com/photo-1505455184862-554165e5f6ee?w=350&h=220&fit=crop", text: "ISRO's Gaganyaan mission cleared for 2026 launch", type: "science", size: "medium" },
            { channel: "Times Now", image: "https://images.unsplash.com/photo-1518546305927-5a555fb42aa7?w=400&h=280&fit=crop", text: "India beats Australia by 7 wickets in T20 thriller", type: "sports", size: "large" },
            { channel: "India Today", image: "https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=300&h=200&fit=crop", text: "Delhi AQI improves to 180 after 3 days of rain", type: "local", size: "small" },
            { channel: "CNN Business", image: "https://images.unsplash.com/photo-1551288049-b1f4c29e95f7?w=350&h=220&fit=crop", text: "Tesla confirms India factory by 2027", type: "business", size: "medium" },
            { channel: "Sports Tak", image: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=250&fit=crop", text: "Rohit Sharma smashes fastest T20I century", type: "sports", size: "full" }
        ];

        // AI Layout Intelligence
        function aiLayoutAnalyzer(stories) {
            return stories.map(story => {
                // AI decides layout based on content type
                if (story.type === 'breaking' || story.type === 'sports' && Math.random() > 0.7) {
                    return { ...story, position: 'top-story', size: 'full-page' };
                } else if (story.size === 'large' || Math.random() > 0.8) {
                    return { ...story, position: 'featured', size: 'double-column' };
                } else {
                    return { ...story, position: 'regular', size: 'single-column' };
                }
            });
        }

        // Auto-generate newspaper
        function generateNewspaper() {
            const feed = document.getElementById('whatsappFeed');
            const newspaper = document.getElementById('aiNewspaper');
            
            // Show WhatsApp feed
            feed.innerHTML = whatsappChannelsData.map(item => `
                <div class="channel-item">
                    <div class="channel-name">üì¢ ${item.channel}</div>
                    ${item.image ? `<img src="${item.image}" class="news-image" alt="News">` : ''}
                    <div class="news-text">${item.text}</div>
                </div>
            `).join('');

            // AI analyzes and layouts newspaper
            const aiLayout = aiLayoutAnalyzer([...whatsappChannelsData]);
            
            let newspaperHTML = '';
            
            // Page 1: Top Stories
            newspaperHTML += '<div class="newspaper-page">';
            aiLayout.filter(s => s.position === 'top-story').slice(0,2).forEach(story => {
                newspaperHTML += `
                    <div class="top-story">
                        <img src="${story.image}" alt="Top Story">
                        <h2>${story.text}</h2>
                        <div style="font-size: 1.1rem;">${story.channel}</div>
                    </div>
                `;
            });
            newspaperHTML += '</div>';

            // Page 2+: Column stories
            newspaperHTML += '<div class="newspaper-page">';
            aiLayout.filter(s => s.position !== 'top-story').forEach(story => {
                newspaperHTML += `
                    <div class="story-card">
                        ${story.image ? `<img src="${story.image}" style="width:100%; height:150px; object-fit:cover; border-radius:8px;" alt="Story">` : ''}
                        <h4>${story.text}</h4>
                        <div style="color: #6b7280; font-size: 0.9rem;">${story.channel}</div>
                    </div>
                `;
            });
            newspaperHTML += '</div>';

            newspaper.innerHTML = newspaperHTML;
            document.getElementById('status').innerHTML = `‚úÖ Newspaper Generated! ${aiLayout.length} stories auto-arranged`;
        }

        // PDF Download
        document.getElementById('downloadPDF').onclick = async () => {
            const newspaper = document.querySelector('.ai-newspaper');
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('p', 'mm', 'a4');
            
            const canvas = await html2canvas(newspaper, {
                scale: 2,
                useCORS: true,
                backgroundColor: '#ffffff'
            });
            
            const imgData = canvas.toDataURL('image/png');
            const imgWidth = 210;
            const pageHeight = 295;
            const imgHeight = (canvas.height * imgWidth) / canvas.width;
            let heightLeft = imgHeight;
            let position = 0;

            doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
            heightLeft -= pageHeight;

            while (heightLeft >= 0) {
                position = heightLeft - imgHeight;
                doc.addPage();
                doc.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;
            }

            doc.save('believe-it-ai-newspaper.pdf');
        };

        // START AI SYSTEM
        setTimeout(() => {
            generateNewspaper();
        }, 2000);

        // Auto-refresh every 10 minutes
        setInterval(generateNewspaper, 600000);
    </script>
</body>
</html>


